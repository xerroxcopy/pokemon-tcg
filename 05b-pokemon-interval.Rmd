# interval

Growth Rate in Newberry & Plotkin (2022)に代わるものとして、インターバルを計算できないだろうか。
あるポケモン（なんでもいいのでなにかを想像）のカードが発売されたとして、次また登場するのはいつか？
Timestepではなく時間のデータもあるのもなにかに使えるかも。とくに何百枚もリリースされるメインとMcDonaldsとかを一緒に扱うのは少し気が引ける。
その時点で500種のポケモンが発表されていたとしよう。デザインをランダムで決めていたとすると、次の125枚のリリースで少なくとも一枚登場する確率は…

```{r}
1 - (499/500)^125 # .221
```
22%くらい。そもそも種数にもかなり乖離がありそう。

```{r}
sim_random_df 
```
150万行あるので注意しましょう…。
とりあえず種数を計算してみましょう。簡単そうだから。
累積種数（一度以上登場したことのあるポケモンの数~ｔ）と、そのときどきの種数をEmpiricalからやってみる。そのときどきを計算すればそれをcumsumするのはラクそう。

## cumulative
```{r}

map(
  .x = release_dates,
  df_gene |> filter(release_date <= .x)
  )
```


